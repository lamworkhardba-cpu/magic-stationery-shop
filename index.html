<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Magic Stationery Shop - Learning Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Comic Sans MS', 'Arial Rounded MT Bold', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #e6f2ff 0%, #f0f7ff 100%);
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .container {
            max-width: 1100px;
            width: 100%;
            background-color: white;
            border-radius: 25px;
            padding: 25px;
            box-shadow: 0 15px 35px rgba(74, 111, 165, 0.15);
            margin-top: 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 25px;
            background: linear-gradient(90deg, #4a6fa5, #7b9fd3);
            padding: 20px;
            border-radius: 20px;
            color: white;
            position: relative;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 3px 3px 0 rgba(0, 0, 0, 0.1);
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .game-selector {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }
        
        .game-tab {
            padding: 12px 25px;
            background-color: #e1f0ff;
            border-radius: 50px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            border: 3px solid transparent;
            font-size: 1rem;
            color: #4a6fa5;
            flex: 1;
            min-width: 150px;
            text-align: center;
        }
        
        .game-tab.active {
            background-color: #4a6fa5;
            color: white;
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(74, 111, 165, 0.3);
        }
        
        .game-area {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }
        
        .game-section {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .game-section.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .section-title {
            color: #4a6fa5;
            border-bottom: 3px solid #ffb6c1;
            padding-bottom: 10px;
            margin-bottom: 20px;
            font-size: 1.8rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        /* Game 1: Learn Words */
        .stationery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 20px;
            margin-top: 15px;
        }
        
        .stationery-item {
            background-color: white;
            border-radius: 20px;
            padding: 20px 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s;
            border: 4px solid #e1f0ff;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.08);
            position: relative;
        }
        
        .stationery-item:hover {
            transform: translateY(-8px);
            border-color: #ff9e6d;
            box-shadow: 0 12px 24px rgba(255, 158, 109, 0.2);
        }
        
        .item-emoji {
            font-size: 3rem;
            margin-bottom: 15px;
            transition: transform 0.3s;
        }
        
        .stationery-item:hover .item-emoji {
            transform: scale(1.2);
        }
        
        .item-name {
            font-weight: bold;
            color: #4a6fa5;
            font-size: 1.3rem;
            text-align: center;
        }
        
        .item-price {
            color: #ff7b9c;
            font-weight: bold;
            font-size: 1.2rem;
            margin-top: 10px;
            background-color: #fff0f5;
            padding: 5px 15px;
            border-radius: 20px;
        }
        
        /* Game 2: Shopping Dialogue */
        .shopping-game {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .customer-area {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            padding: 20px;
            background-color: #f8fbff;
            border-radius: 20px;
            border: 3px dashed #c1d9ff;
        }
        
        .customer-info {
            display: flex;
            align-items: center;
            gap: 25px;
            width: 100%;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .item-display {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
            padding: 20px;
            background: white;
            border-radius: 15px;
            min-width: 200px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .item-emoji-large {
            font-size: 4rem;
        }
        
        .item-name-large {
            font-size: 1.8rem;
            color: #4a6fa5;
            font-weight: bold;
        }
        
        .current-price {
            font-size: 2rem;
            color: #ff7b9c;
            font-weight: bold;
            background-color: #fff0f5;
            padding: 10px 25px;
            border-radius: 50px;
            margin-top: 10px;
        }
        
        .dialogue-box {
            background-color: #f8fbff;
            padding: 25px;
            border-radius: 20px;
            min-height: 120px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border: 3px solid #a6d8ff;
        }
        
        .dialogue-text {
            font-size: 1.8rem;
            color: #4a6fa5;
            text-align: center;
            margin-bottom: 15px;
            font-weight: bold;
            line-height: 1.4;
        }
        
        .dialogue-character {
            color: #ff7b9c;
            font-weight: bold;
            font-size: 1.1rem;
            margin-bottom: 10px;
        }
        
        .progress-bar {
            width: 100%;
            background-color: #e1f0ff;
            border-radius: 10px;
            height: 20px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #7ed321, #4a6fa5);
            border-radius: 10px;
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .number-options {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .number-option {
            background-color: #ffd166;
            color: #333;
            padding: 20px;
            border-radius: 15px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            border: 3px solid transparent;
            font-size: 1.5rem;
            text-align: center;
            box-shadow: 0 4px 0 #e6b850;
        }
        
        .number-option:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 0 #e6b850;
        }
        
        .number-option.correct {
            background-color: #7ed321;
            box-shadow: 0 4px 0 #5ca315;
            color: white;
        }
        
        .number-option.wrong {
            background-color: #ff4d4d;
            box-shadow: 0 4px 0 #cc3d3d;
            color: white;
        }
        
        /* Game 3: Syllable Match */
        .syllable-game {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .syllable-area {
            background-color: #f0ffe6;
            padding: 25px;
            border-radius: 20px;
            border: 3px solid #c1e6a3;
        }
        
        .word-display {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .word-info {
            display: flex;
            align-items: center;
            gap: 30px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .syllable-emoji {
            font-size: 4rem;
            background-color: white;
            padding: 20px;
            border-radius: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .target-word {
            font-size: 2.5rem;
            color: #4a6fa5;
            font-weight: bold;
            letter-spacing: 2px;
            background-color: white;
            padding: 20px 30px;
            border-radius: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            min-width: 300px;
            text-align: center;
        }
        
        .syllable-drop-zones {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
            flex-wrap: wrap;
        }
        
        .syllable-zone {
            width: 120px;
            height: 100px;
            border-radius: 15px;
            background-color: #e1d4ff;
            border: 3px dashed #c1b0ff;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            font-weight: bold;
            color: #4a6fa5;
        }
        
        .syllable-zone.filled {
            background-color: #ffd166;
            border-style: solid;
            border-color: #e6b850;
        }
        
        .syllable-options {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 30px;
        }
        
        .syllable-option {
            background-color: #a6d8ff;
            color: #333;
            padding: 20px 30px;
            border-radius: 15px;
            font-size: 1.8rem;
            font-weight: bold;
            cursor: move;
            user-select: none;
            box-shadow: 0 4px 0 #7bb8e6;
            min-width: 100px;
            text-align: center;
        }
        
        /* Game 4: Sentence Builder */
        .sentence-game {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .sentence-area {
            background-color: #fff0f5;
            padding: 25px;
            border-radius: 20px;
            border: 3px solid #ffb6c1;
        }
        
        .sentence-display {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .sentence-target {
            font-size: 1.8rem;
            color: #4a6fa5;
            font-weight: bold;
            background-color: white;
            padding: 20px 30px;
            border-radius: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            min-width: 400px;
            text-align: center;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .sentence-drop-zones {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .sentence-zone {
            min-width: 100px;
            height: 80px;
            border-radius: 15px;
            background-color: #c1ffc1;
            border: 3px dashed #a3e6a3;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: #4a6fa5;
            padding: 10px 20px;
        }
        
        .sentence-zone.filled {
            background-color: #ffd166;
            border-style: solid;
            border-color: #e6b850;
        }
        
        .sentence-options {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 30px;
        }
        
        .sentence-option {
            background-color: #a6d8ff;
            color: #333;
            padding: 15px 25px;
            border-radius: 10px;
            font-size: 1.5rem;
            font-weight: bold;
            cursor: move;
            user-select: none;
            box-shadow: 0 4px 0 #7bb8e6;
            min-width: 80px;
            text-align: center;
        }
        
        .sentence-option.word {
            background-color: #ffd166;
            box-shadow: 0 4px 0 #e6b850;
        }
        
        .sentence-option.number {
            background-color: #ff9e6d;
            box-shadow: 0 4px 0 #e68a5d;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 25px;
            flex-wrap: wrap;
        }
        
        .game-btn {
            background-color: #4a6fa5;
            color: white;
            border: none;
            padding: 15px 35px;
            border-radius: 50px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 6px 0 #2c4a7a;
            min-width: 180px;
        }
        
        .game-btn:hover {
            background-color: #3a5a85;
            transform: translateY(2px);
            box-shadow: 0 4px 0 #2c4a7a;
        }
        
        .game-btn:active {
            transform: translateY(6px);
            box-shadow: 0 0 0 #2c4a7a;
        }
        
        .hint-btn {
            background-color: #ff9e6d;
            box-shadow: 0 6px 0 #e68a5d;
        }
        
        .reset-btn {
            background-color: #ff7b9c;
            box-shadow: 0 6px 0 #cc5a7a;
        }
        
        .next-btn {
            background-color: #7ed321;
            box-shadow: 0 6px 0 #5ca315;
        }
        
        /* Score Board */
        .score-board {
            display: flex;
            justify-content: space-around;
            background: linear-gradient(90deg, #4a6fa5, #7b9fd3);
            padding: 20px;
            border-radius: 20px;
            margin-top: 30px;
            color: white;
        }
        
        .score-item {
            text-align: center;
        }
        
        .score-value {
            font-size: 2.5rem;
            font-weight: bold;
            text-shadow: 2px 2px 0 rgba(0, 0, 0, 0.2);
        }
        
        .score-label {
            font-size: 1rem;
            opacity: 0.9;
            margin-top: 5px;
        }
        
        /* Feedback Messages */
        .feedback {
            text-align: center;
            padding: 15px;
            border-radius: 15px;
            margin: 15px 0;
            font-weight: bold;
            font-size: 1.3rem;
            display: none;
            animation: fadeIn 0.3s ease;
        }
        
        .feedback.correct {
            background-color: #e6ffe6;
            color: #2d8510;
            border: 3px solid #7ed321;
            display: block;
        }
        
        .feedback.wrong {
            background-color: #ffe6e6;
            color: #cc0000;
            border: 3px solid #ff4d4d;
            display: block;
        }
        
        /* Game Instructions */
        .instructions {
            background-color: #fff0f5;
            padding: 20px;
            border-radius: 20px;
            margin-bottom: 25px;
            border-left: 5px solid #ff7b9c;
        }
        
        .instructions h3 {
            color: #4a6fa5;
            margin-bottom: 10px;
            font-size: 1.4rem;
        }
        
        .instructions p {
            color: #333;
            line-height: 1.6;
            margin-bottom: 10px;
        }
        
        /* Progress Info */
        .progress-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 15px 0;
            font-weight: bold;
            color: #4a6fa5;
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .game-tab {
                min-width: 120px;
                padding: 10px 15px;
                font-size: 0.9rem;
            }
            
            .stationery-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }
            
            .number-options {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .dialogue-text {
                font-size: 1.4rem;
            }
            
            .target-word {
                font-size: 2rem;
                min-width: 250px;
                padding: 15px 20px;
            }
            
            .sentence-target {
                font-size: 1.4rem;
                min-width: 300px;
            }
            
            .syllable-zone {
                width: 100px;
                height: 80px;
                font-size: 1.5rem;
            }
            
            .syllable-option {
                padding: 15px 20px;
                font-size: 1.5rem;
                min-width: 80px;
            }
            
            .sentence-option {
                padding: 12px 18px;
                font-size: 1.2rem;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            .game-btn {
                width: 100%;
                max-width: 300px;
            }
            
            .customer-info {
                flex-direction: column;
                text-align: center;
            }
        }
        
        @media (max-width: 480px) {
            .stationery-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
            }
            
            .number-options {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .game-selector {
                flex-direction: column;
                align-items: center;
            }
            
            .game-tab {
                width: 100%;
                max-width: 300px;
                text-align: center;
            }
            
            .target-word {
                font-size: 1.6rem;
                min-width: 200px;
            }
            
            .sentence-target {
                font-size: 1.2rem;
                min-width: 250px;
            }
        }
        
        /* Animations */
        @keyframes celebrate {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        .celebrate {
            animation: celebrate 0.5s ease 3;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .bounce {
            animation: bounce 0.5s ease;
        }
        
        @keyframes wiggle {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(-5deg); }
            75% { transform: rotate(5deg); }
        }
        
        .wiggle {
            animation: wiggle 0.5s ease;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üß∏ Magic Stationery Shop üõí</h1>
            <div class="subtitle">Learn English with Bear Shopkeeper!</div>
        </div>
        
        <div class="game-selector">
            <div class="game-tab active" data-game="1">üéÆ Learn Words</div>
            <div class="game-tab" data-game="2">üõçÔ∏è Shopping</div>
            <div class="game-tab" data-game="3">‚ú® Syllables</div>
            <div class="game-tab" data-game="4">üìù Sentences</div>
        </div>
        
        <!-- Game 1: Learn Words -->
        <div class="game-section active" id="game1">
            <div class="instructions">
                <h3>üìö How to Play Game 1</h3>
                <p>Click on any stationery item to hear its English name! Each item has a random price between $1 and $20.</p>
                <p>Try to remember all 6 stationery words: eraser, ruler, glue, crayons, pencil, paper</p>
            </div>
            
            <h2 class="section-title">üéØ Learn Stationery Words</h2>
            <div class="stationery-grid" id="stationeryGrid">
                <!-- Items will be loaded by JavaScript -->
            </div>
            
            <div class="controls">
                <button class="game-btn hint-btn" id="playAllBtn">üîä Play All Words</button>
                <button class="game-btn reset-btn" id="resetPricesBtn">üîÑ Change Prices</button>
            </div>
        </div>
        
        <!-- Game 2: Shopping Dialogue -->
        <div class="game-section" id="game2">
            <div class="instructions">
                <h3>üõçÔ∏è How to Play Game 2</h3>
                <p>Customers will ask "How much is/are the [item]?" Select the correct English number word to answer!</p>
                <p>Complete all 6 stationery items to finish the game. Progress bar shows how many items you've completed.</p>
            </div>
            
            <h2 class="section-title">üí∞ Shopping Dialogue Practice</h2>
            
            <div class="shopping-game">
                <div class="progress-info">
                    <span id="progressText">Item 1 of 6</span>
                    <span id="itemsCompleted">0/6 completed</span>
                </div>
                
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                
                <div class="customer-area">
                    <div class="customer-info">
                        <div class="item-display">
                            <div class="item-emoji-large" id="game2Emoji">‚úèÔ∏è</div>
                            <div class="item-name-large" id="game2ItemName">pencil</div>
                        </div>
                        
                        <div style="text-align: center;">
                            <div class="dialogue-character">Price:</div>
                            <div class="current-price" id="currentPrice">$5</div>
                        </div>
                    </div>
                    
                    <div class="dialogue-box">
                        <div class="dialogue-character">Customer asks:</div>
                        <div class="dialogue-text" id="dialogueText">"How much is the pencil?"</div>
                    </div>
                </div>
                
                <div class="feedback" id="feedback"></div>
                
                <div class="dialogue-character">Select the correct English number:</div>
                <div class="number-options" id="numberOptions">
                    <!-- Number options will be loaded here -->
                </div>
            </div>
            
            <div class="controls">
                <button class="game-btn" id="nextCustomerBtn">Next Customer ‚û°Ô∏è</button>
                <button class="game-btn reset-btn" id="resetGame2Btn">üîÑ Restart Game</button>
            </div>
        </div>
        
        <!-- Game 3: Syllable Match -->
        <div class="game-section" id="game3">
            <div class="instructions">
                <h3>‚ú® How to Play Game 3</h3>
                <p>Drag and drop syllables to complete the stationery word! Each word is divided into syllables like "gl/ue" or "ru/ler".</p>
                <p>Example: For "glue", drag "gl" and "ue" to the correct spots.</p>
            </div>
            
            <h2 class="section-title">üî§ Syllable Match Challenge</h2>
            
            <div class="syllable-game">
                <div class="syllable-area">
                    <div class="word-display">
                        <div class="word-info">
                            <div class="syllable-emoji" id="syllableEmoji">‚úèÔ∏è</div>
                            <div class="target-word" id="targetWord">_ _ _ _ _ _</div>
                        </div>
                        
                        <div class="syllable-drop-zones" id="syllableDropZones">
                            <!-- Syllable drop zones will be created here -->
                        </div>
                    </div>
                    
                    <div class="feedback" id="syllableFeedback"></div>
                    
                    <div class="dialogue-character">Drag syllables to the correct spots:</div>
                    <div class="syllable-options" id="syllableOptions">
                        <!-- Syllable options will be created here -->
                    </div>
                </div>
                
                <div class="controls">
                    <button class="game-btn hint-btn" id="hintBtn">üí° Get Hint</button>
                    <button class="game-btn reset-btn" id="resetSyllableBtn">üîÑ Try Another Word</button>
                    <button class="game-btn next-btn" id="nextWordBtn">Next Word ‚û°Ô∏è</button>
                </div>
            </div>
        </div>
        
        <!-- Game 4: Sentence Builder -->
        <div class="game-section" id="game4">
            <div class="instructions">
                <h3>üìù How to Play Game 4</h3>
                <p>Drag and drop words to build correct shopping sentences!</p>
                <p>Example: "How much is the pencil?" or "It is five dollars."</p>
            </div>
            
            <h2 class="section-title">üõí Sentence Builder Challenge</h2>
            
            <div class="sentence-game">
                <div class="sentence-area">
                    <div class="sentence-display">
                        <div class="sentence-target" id="sentenceTarget">
                            Build the correct sentence
                        </div>
                        
                        <div class="sentence-drop-zones" id="sentenceDropZones">
                            <!-- Sentence drop zones will be created here -->
                        </div>
                    </div>
                    
                    <div class="feedback" id="sentenceFeedback"></div>
                    
                    <div class="dialogue-character">Drag words to build the sentence:</div>
                    <div class="sentence-options" id="sentenceOptions">
                        <!-- Sentence word options will be created here -->
                    </div>
                </div>
                
                <div class="controls">
                    <button class="game-btn hint-btn" id="sentenceHintBtn">üí° Get Hint</button>
                    <button class="game-btn reset-btn" id="resetSentenceBtn">üîÑ Try Another Sentence</button>
                    <button class="game-btn next-btn" id="nextSentenceBtn">Check Answer ‚úì</button>
                </div>
            </div>
        </div>
        
        <!-- Score Board -->
        <div class="score-board">
            <div class="score-item">
                <div class="score-value" id="scoreValue">0</div>
                <div class="score-label">Total Score</div>
            </div>
            <div class="score-item">
                <div class="score-value" id="correctValue">0</div>
                <div class="score-label">Correct Answers</div>
            </div>
            <div class="score-item">
                <div class="score-value" id="gamesPlayed">0</div>
                <div class="score-label">Games Played</div>
            </div>
        </div>
    </div>

    <script>
        // Game Data
        const stationeryItems = [
            { 
                name: "eraser", 
                emoji: "üìè", 
                color: "#ffb6c1", 
                syllables: ["e", "ra", "ser"],
                syllableParts: ["e", "ra", "ser"]
            },
            { 
                name: "ruler", 
                emoji: "üìê", 
                color: "#a6d8ff", 
                syllables: ["ru", "ler"],
                syllableParts: ["ru", "ler"]
            },
            { 
                name: "glue", 
                emoji: "üß¥", 
                color: "#ffd166", 
                syllables: ["gl", "ue"],
                syllableParts: ["gl", "ue"]
            },
            { 
                name: "crayons", 
                emoji: "üñçÔ∏è", 
                color: "#ff9e6d", 
                syllables: ["cra", "yons"],
                syllableParts: ["cra", "yons"]
            },
            { 
                name: "pencil", 
                emoji: "‚úèÔ∏è", 
                color: "#c1ffc1", 
                syllables: ["pen", "cil"],
                syllableParts: ["pen", "cil"]
            },
            { 
                name: "paper", 
                emoji: "üìÑ", 
                color: "#e1d4ff", 
                syllables: ["pa", "per"],
                syllableParts: ["pa", "per"]
            }
        ];

        const priceOptions = [1, 2, 3, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20];
        
        // English number words for 1-20
        const numberWords = {
            1: "one", 2: "two", 3: "three", 4: "four", 5: "five",
            6: "six", 7: "seven", 8: "eight", 9: "nine", 10: "ten",
            11: "eleven", 12: "twelve", 13: "thirteen", 14: "fourteen", 15: "fifteen",
            16: "sixteen", 17: "seventeen", 18: "eighteen", 19: "nineteen", 20: "twenty"
        };

        // Shopping sentences for Game 4
        const shoppingSentences = [
            {
                question: "How much is the pencil?",
                answer: "It is five dollars.",
                parts: ["How", "much", "is", "the", "pencil", "?"],
                type: "question"
            },
            {
                question: "How much are the crayons?",
                answer: "They are twelve dollars.",
                parts: ["How", "much", "are", "the", "crayons", "?"],
                type: "question"
            },
            {
                question: "How much is the ruler?",
                answer: "It is eight dollars.",
                parts: ["How", "much", "is", "the", "ruler", "?"],
                type: "question"
            },
            {
                question: "How much is the glue?",
                answer: "It is three dollars.",
                parts: ["How", "much", "is", "the", "glue", "?"],
                type: "question"
            },
            {
                question: "How much is the paper?",
                answer: "It is one dollar.",
                parts: ["How", "much", "is", "the", "paper", "?"],
                type: "question"
            },
            {
                statement: "The eraser is seven dollars.",
                answer: "The eraser is seven dollars.",
                parts: ["The", "eraser", "is", "seven", "dollars", "."],
                type: "statement"
            }
        ];

        // Game State
        const gameState = {
            score: 0,
            correctAnswers: 0,
            gamesPlayed: 0,
            currentGame: 1,
            
            // Game 2 State
            game2: {
                currentItemIndex: 0,
                completedItems: [],
                currentItem: null,
                correctPrice: null,
                numberOptions: [],
                isPlural: false,
                correctNumberWord: ""
            },
            
            // Game 3 State
            game3: {
                currentWord: null,
                syllables: [],
                syllableOptions: [],
                isComplete: false
            },
            
            // Game 4 State
            game4: {
                currentSentence: null,
                dropZones: [],
                wordOptions: [],
                isComplete: false
            }
        };

        // DOM Elements
        const gameSections = document.querySelectorAll('.game-section');
        const gameTabs = document.querySelectorAll('.game-tab');
        
        // Game 1 Elements
        const stationeryGrid = document.getElementById('stationeryGrid');
        const playAllBtn = document.getElementById('playAllBtn');
        const resetPricesBtn = document.getElementById('resetPricesBtn');
        
        // Game 2 Elements
        const progressText = document.getElementById('progressText');
        const itemsCompleted = document.getElementById('itemsCompleted');
        const progressFill = document.getElementById('progressFill');
        const game2Emoji = document.getElementById('game2Emoji');
        const game2ItemName = document.getElementById('game2ItemName');
        const currentPrice = document.getElementById('currentPrice');
        const dialogueText = document.getElementById('dialogueText');
        const numberOptionsContainer = document.getElementById('numberOptions');
        const nextCustomerBtn = document.getElementById('nextCustomerBtn');
        const resetGame2Btn = document.getElementById('resetGame2Btn');
        const feedback = document.getElementById('feedback');
        
        // Game 3 Elements
        const syllableEmoji = document.getElementById('syllableEmoji');
        const targetWord = document.getElementById('targetWord');
        const syllableDropZones = document.getElementById('syllableDropZones');
        const syllableOptions = document.getElementById('syllableOptions');
        const hintBtn = document.getElementById('hintBtn');
        const resetSyllableBtn = document.getElementById('resetSyllableBtn');
        const nextWordBtn = document.getElementById('nextWordBtn');
        const syllableFeedback = document.getElementById('syllableFeedback');
        
        // Game 4 Elements
        const sentenceTarget = document.getElementById('sentenceTarget');
        const sentenceDropZones = document.getElementById('sentenceDropZones');
        const sentenceOptions = document.getElementById('sentenceOptions');
        const sentenceHintBtn = document.getElementById('sentenceHintBtn');
        const resetSentenceBtn = document.getElementById('resetSentenceBtn');
        const nextSentenceBtn = document.getElementById('nextSentenceBtn');
        const sentenceFeedback = document.getElementById('sentenceFeedback');
        
        // Score Elements
        const scoreValue = document.getElementById('scoreValue');
        const correctValue = document.getElementById('correctValue');
        const gamesPlayedValue = document.getElementById('gamesPlayed');

        // Initialize Game
        function initGame() {
            setupEventListeners();
            renderGame1();
            setupGame2();
            setupGame3();
            setupGame4();
            updateScoreboard();
        }

        // Setup Event Listeners
        function setupEventListeners() {
            // Game Tabs
            gameTabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const gameId = this.dataset.game;
                    switchGame(parseInt(gameId));
                });
            });

            // Game 1 Events
            playAllBtn.addEventListener('click', playAllWords);
            resetPricesBtn.addEventListener('click', renderGame1);

            // Game 2 Events
            nextCustomerBtn.addEventListener('click', nextItemGame2);
            resetGame2Btn.addEventListener('click', resetGame2);
            
            // Game 3 Events
            hintBtn.addEventListener('click', giveHint);
            resetSyllableBtn.addEventListener('click', setupGame3);
            nextWordBtn.addEventListener('click', nextWord);
            
            // Game 4 Events
            sentenceHintBtn.addEventListener('click', giveSentenceHint);
            resetSentenceBtn.addEventListener('click', setupGame4);
            nextSentenceBtn.addEventListener('click', checkSentence);
        }

        // Switch Between Games
        function switchGame(gameId) {
            gameState.currentGame = gameId;
            
            // Update active tab
            gameTabs.forEach(tab => {
                tab.classList.toggle('active', tab.dataset.game == gameId);
            });
            
            // Update active game section
            gameSections.forEach(section => {
                section.classList.toggle('active', section.id === `game${gameId}`);
            });
        }

        // GAME 1: Learn Words
        function renderGame1() {
            stationeryGrid.innerHTML = '';
            
            stationeryItems.forEach(item => {
                const randomPrice = priceOptions[Math.floor(Math.random() * priceOptions.length)];
                
                const itemElement = document.createElement('div');
                itemElement.className = 'stationery-item';
                itemElement.style.borderColor = item.color;
                itemElement.dataset.name = item.name;
                itemElement.dataset.price = randomPrice;
                itemElement.dataset.emoji = item.emoji;
                
                itemElement.innerHTML = `
                    <div class="item-emoji">${item.emoji}</div>
                    <div class="item-name">${item.name}</div>
                    <div class="item-price">$${randomPrice}</div>
                `;
                
                itemElement.addEventListener('click', function() {
                    speakWord(item.name);
                    this.classList.add('bounce');
                    setTimeout(() => this.classList.remove('bounce'), 500);
                });
                
                stationeryGrid.appendChild(itemElement);
            });
            
            gameState.gamesPlayed++;
            updateScoreboard();
        }

        function playAllWords() {
            stationeryItems.forEach((item, index) => {
                setTimeout(() => {
                    speakWord(item.name);
                    highlightItem(item.name);
                }, index * 800);
            });
        }

        function highlightItem(itemName) {
            const items = document.querySelectorAll('.stationery-item');
            items.forEach(item => {
                if (item.dataset.name === itemName) {
                    item.classList.add('celebrate');
                    setTimeout(() => item.classList.remove('celebrate'), 1500);
                }
            });
        }

        // GAME 2: Shopping Dialogue
        function setupGame2() {
            // Reset game state
            gameState.game2.currentItemIndex = 0;
            gameState.game2.completedItems = [];
            
            // Start with first item
            startNextItemGame2();
            
            gameState.gamesPlayed++;
            updateScoreboard();
        }

        function startNextItemGame2() {
            // Reset feedback
            feedback.className = 'feedback';
            feedback.textContent = '';
            
            // Get current item
            gameState.game2.currentItem = stationeryItems[gameState.game2.currentItemIndex];
            
            // Get correct price from Game 1 or generate random
            const items = document.querySelectorAll('.stationery-item');
            let correctPrice = null;
            
            items.forEach(item => {
                if (item.dataset.name === gameState.game2.currentItem.name) {
                    correctPrice = parseInt(item.dataset.price);
                }
            });
            
            // If price not found, generate random price
            if (!correctPrice || correctPrice > 20) {
                correctPrice = priceOptions[Math.floor(Math.random() * priceOptions.length)];
            }
            
            gameState.game2.correctPrice = correctPrice;
            gameState.game2.isPlural = gameState.game2.currentItem.name === 'crayons';
            gameState.game2.correctNumberWord = numberWords[correctPrice];
            
            // Update display
            game2Emoji.textContent = gameState.game2.currentItem.emoji;
            game2ItemName.textContent = gameState.game2.currentItem.name;
            game2ItemName.style.color = gameState.game2.currentItem.color;
            currentPrice.textContent = `$${correctPrice}`;
            
            // Update dialogue
            dialogueText.innerHTML = `"How much ${gameState.game2.isPlural ? 'are' : 'is'} the <span style="color:${gameState.game2.currentItem.color}">${gameState.game2.currentItem.name}</span>?"`;
            
            // Generate number word options
            generateNumberOptions();
            
            // Update progress
            updateGame2Progress();
            
            // Speak the question
            setTimeout(() => {
                speakText(`How much ${gameState.game2.isPlural ? 'are' : 'is'} the ${gameState.game2.currentItem.name}?`);
            }, 500);
        }

        function generateNumberOptions() {
            numberOptionsContainer.innerHTML = '';
            
            // Start with correct number word
            const options = [gameState.game2.correctNumberWord];
            
            // Add 3 random wrong number words
            const numberKeys = Object.keys(numberWords);
            while (options.length < 4) {
                const randomKey = numberKeys[Math.floor(Math.random() * numberKeys.length)];
                const randomNumberWord = numberWords[randomKey];
                if (!options.includes(randomNumberWord) && randomNumberWord !== gameState.game2.correctNumberWord) {
                    options.push(randomNumberWord);
                }
            }
            
            // Shuffle options
            options.sort(() => Math.random() - 0.5);
            
            // Create number option elements
            options.forEach(numberWord => {
                const optionElement = document.createElement('div');
                optionElement.className = 'number-option';
                optionElement.textContent = numberWord;
                optionElement.dataset.word = numberWord;
                
                optionElement.addEventListener('click', function() {
                    checkNumberAnswer(numberWord);
                });
                
                numberOptionsContainer.appendChild(optionElement);
            });
            
            gameState.game2.numberOptions = options;
        }

        function checkNumberAnswer(selectedWord) {
            const correctWord = gameState.game2.correctNumberWord;
            const options = document.querySelectorAll('.number-option');
            
            options.forEach(option => {
                const word = option.dataset.word;
                if (word === correctWord) {
                    option.classList.add('correct');
                } else if (word === selectedWord && word !== correctWord) {
                    option.classList.add('wrong');
                }
                
                // Disable further clicks
                option.style.pointerEvents = 'none';
            });
            
            if (selectedWord === correctWord) {
                // Correct answer
                feedback.className = 'feedback correct';
                feedback.innerHTML = `üéâ Excellent! You answered: "It ${gameState.game2.isPlural ? 'are' : 'is'} ${selectedWord} dollars."`;
                
                speakText(`It ${gameState.game2.isPlural ? 'are' : 'is'} ${selectedWord} dollars`);
                
                gameState.score += 20;
                gameState.correctAnswers++;
                
                // Mark item as completed
                if (!gameState.game2.completedItems.includes(gameState.game2.currentItem.name)) {
                    gameState.game2.completedItems.push(gameState.game2.currentItem.name);
                }
                
                // Celebrate
                game2Emoji.classList.add('wiggle');
                currentPrice.classList.add('celebrate');
                setTimeout(() => {
                    game2Emoji.classList.remove('wiggle');
                    currentPrice.classList.remove('celebrate');
                }, 1500);
                
                // Update progress
                updateGame2Progress();
            } else {
                // Wrong answer
                feedback.className = 'feedback wrong';
                feedback.innerHTML = `‚ùå Try again! The correct answer is "${correctWord}" ($${gameState.game2.correctPrice}).`;
                
                // Speak correct answer
                setTimeout(() => {
                    speakText(`It ${gameState.game2.isPlural ? 'are' : 'is'} ${correctWord} dollars`);
                }, 1000);
            }
            
            updateScoreboard();
        }

        function updateGame2Progress() {
            const totalItems = stationeryItems.length;
            const completedCount = gameState.game2.completedItems.length;
            const currentIndex = gameState.game2.currentItemIndex + 1;
            
            progressText.textContent = `Item ${currentIndex} of ${totalItems}`;
            itemsCompleted.textContent = `${completedCount}/${totalItems} completed`;
            
            const progressPercent = (completedCount / totalItems) * 100;
            progressFill.style.width = `${progressPercent}%`;
        }

        function nextItemGame2() {
            // Move to next item
            gameState.game2.currentItemIndex++;
            
            // If we've gone through all items, restart from beginning
            if (gameState.game2.currentItemIndex >= stationeryItems.length) {
                gameState.game2.currentItemIndex = 0;
            }
            
            startNextItemGame2();
        }

        function resetGame2() {
            gameState.score = Math.max(0, gameState.score - 10);
            setupGame2();
        }

        // GAME 3: Syllable Match
        function setupGame3() {
            // Select a random word
            const randomIndex = Math.floor(Math.random() * stationeryItems.length);
            gameState.game3.currentWord = stationeryItems[randomIndex];
            gameState.game3.isComplete = false;
            
            // Clear previous content
            syllableDropZones.innerHTML = '';
            syllableOptions.innerHTML = '';
            syllableFeedback.className = 'feedback';
            syllableFeedback.textContent = '';
            
            // Update display
            syllableEmoji.textContent = gameState.game3.currentWord.emoji;
            targetWord.textContent = '_'.repeat(gameState.game3.currentWord.name.length);
            targetWord.style.color = gameState.game3.currentWord.color;
            
            // Create syllable drop zones (one per syllable part)
            createSyllableDropZones();
            
            // Create syllable options
            createSyllableOptions();
            
            gameState.gamesPlayed++;
            updateScoreboard();
            
            // Speak the word
            setTimeout(() => {
                speakWord(gameState.game3.currentWord.name);
            }, 800);
        }

        function createSyllableDropZones() {
            syllableDropZones.innerHTML = '';
            gameState.game3.syllables = [];
            
            const syllableParts = gameState.game3.currentWord.syllableParts;
            
            // Create a drop zone for each syllable part
            syllableParts.forEach((part, index) => {
                const dropZone = document.createElement('div');
                dropZone.className = 'syllable-zone';
                dropZone.dataset.index = index;
                dropZone.dataset.expected = part;
                dropZone.dataset.filled = 'false';
                
                // Make it a drop target
                dropZone.addEventListener('dragover', allowDrop);
                dropZone.addEventListener('drop', handleSyllableDrop);
                
                syllableDropZones.appendChild(dropZone);
                gameState.game3.syllables.push(dropZone);
            });
        }

        function createSyllableOptions() {
            syllableOptions.innerHTML = '';
            gameState.game3.syllableOptions = [];
            
            const syllableParts = [...gameState.game3.currentWord.syllableParts];
            
            // Shuffle the syllable parts
            syllableParts.sort(() => Math.random() - 0.5);
            
            // Create syllable option elements
            syllableParts.forEach((part, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'syllable-option';
                optionElement.textContent = part;
                optionElement.draggable = true;
                optionElement.dataset.part = part;
                optionElement.dataset.id = `syllable-${index}`;
                
                optionElement.addEventListener('dragstart', handleSyllableDragStart);
                
                syllableOptions.appendChild(optionElement);
                gameState.game3.syllableOptions.push(optionElement);
            });
        }

        // Syllable Drag and Drop Functions
        function allowDrop(event) {
            event.preventDefault();
        }

        function handleSyllableDragStart(event) {
            event.dataTransfer.setData('text/plain', event.target.dataset.part);
            event.dataTransfer.setData('id', event.target.dataset.id);
        }

        function handleSyllableDrop(event) {
            event.preventDefault();
            const part = event.dataTransfer.getData('text/plain');
            const id = event.dataTransfer.getData('id');
            const dropZone = event.target;
            
            // Only allow drop if zone is empty
            if (dropZone.dataset.filled === 'false') {
                dropZone.textContent = part;
                dropZone.dataset.filled = 'true';
                dropZone.dataset.actual = part;
                dropZone.classList.add('filled');
                
                // Hide the dragged syllable
                const draggedElement = document.querySelector(`[data-id="${id}"]`);
                if (draggedElement) {
                    draggedElement.style.visibility = 'hidden';
                }
                
                // Check if all syllables are placed
                checkSyllableCompletion();
            }
        }

        function checkSyllableCompletion() {
            const allFilled = gameState.game3.syllables.every(zone => zone.dataset.filled === 'true');
            
            if (allFilled) {
                // Check if syllables are in correct order
                const placedSyllables = gameState.game3.syllables.map(zone => zone.dataset.actual).join('');
                const correctWord = gameState.game3.currentWord.name;
                
                if (placedSyllables === correctWord) {
                    // Correct!
                    syllableFeedback.className = 'feedback correct';
                    syllableFeedback.innerHTML = `üéâ Fantastic! You spelled "${correctWord}" correctly!`;
                    
                    speakWord(correctWord);
                    
                    gameState.score += 30;
                    gameState.correctAnswers++;
                    gameState.game3.isComplete = true;
                    
                    // Update display to show correct word
                    targetWord.textContent = correctWord;
                    
                    // Celebrate
                    syllableEmoji.classList.add('wiggle');
                    targetWord.classList.add('celebrate');
                    setTimeout(() => {
                        syllableEmoji.classList.remove('wiggle');
                        targetWord.classList.remove('celebrate');
                    }, 1500);
                } else {
                    // Incorrect order
                    syllableFeedback.className = 'feedback wrong';
                    syllableFeedback.textContent = "Syllables are in wrong order! Try again.";
                }
                
                updateScoreboard();
            }
        }

        function giveHint() {
            // Find first empty drop zone
            const emptyZones = gameState.game3.syllables.filter(zone => zone.dataset.filled === 'false');
            
            if (emptyZones.length > 0) {
                const zone = emptyZones[0];
                const expectedPart = zone.dataset.expected;
                
                // Find the correct syllable among options
                const correctSyllable = gameState.game3.syllableOptions.find(
                    syllable => syllable.dataset.part === expectedPart && syllable.style.visibility !== 'hidden'
                );
                
                if (correctSyllable) {
                    // Highlight the correct syllable
                    correctSyllable.style.backgroundColor = '#7ed321';
                    correctSyllable.style.color = 'white';
                    correctSyllable.style.boxShadow = '0 4px 0 #5ca315';
                    
                    // Add bounce animation
                    correctSyllable.classList.add('bounce');
                    
                    // Reset after 2 seconds
                    setTimeout(() => {
                        correctSyllable.style.backgroundColor = '';
                        correctSyllable.style.color = '';
                        correctSyllable.style.boxShadow = '';
                        correctSyllable.classList.remove('bounce');
                    }, 2000);
                    
                    gameState.score = Math.max(0, gameState.score - 5);
                    updateScoreboard();
                }
            }
        }

        function nextWord() {
            if (gameState.game3.isComplete) {
                setupGame3();
            } else {
                syllableFeedback.className = 'feedback wrong';
                syllableFeedback.textContent = "Complete the current word first!";
            }
        }

        // GAME 4: Sentence Builder
        function setupGame4() {
            // Select a random sentence
            const randomIndex = Math.floor(Math.random() * shoppingSentences.length);
            gameState.game4.currentSentence = shoppingSentences[randomIndex];
            gameState.game4.isComplete = false;
            
            // Clear previous content
            sentenceDropZones.innerHTML = '';
            sentenceOptions.innerHTML = '';
            sentenceFeedback.className = 'feedback';
            sentenceFeedback.textContent = '';
            
            // Update display
            sentenceTarget.textContent = gameState.game4.currentSentence.question || gameState.game4.currentSentence.statement;
            
            // Create sentence drop zones
            createSentenceDropZones();
            
            // Create word options
            createWordOptions();
            
            gameState.gamesPlayed++;
            updateScoreboard();
        }

        function createSentenceDropZones() {
            sentenceDropZones.innerHTML = '';
            gameState.game4.dropZones = [];
            
            const parts = gameState.game4.currentSentence.parts;
            
            // Create a drop zone for each word in the sentence
            parts.forEach((part, index) => {
                const dropZone = document.createElement('div');
                dropZone.className = 'sentence-zone';
                dropZone.dataset.index = index;
                dropZone.dataset.expected = part.toLowerCase();
                dropZone.dataset.filled = 'false';
                
                // Make it a drop target
                dropZone.addEventListener('dragover', allowDrop);
                dropZone.addEventListener('drop', handleSentenceDrop);
                
                sentenceDropZones.appendChild(dropZone);
                gameState.game4.dropZones.push(dropZone);
            });
        }

        function createWordOptions() {
            sentenceOptions.innerHTML = '';
            gameState.game4.wordOptions = [];
            
            const parts = [...gameState.game4.currentSentence.parts];
            
            // Add some extra random words
            const extraWords = ["the", "a", "is", "are", "dollar", "dollars", "much", "how"];
            parts.push(...extraWords.filter(word => !parts.includes(word)));
            
            // Shuffle the words
            parts.sort(() => Math.random() - 0.5);
            
            // Create word option elements
            parts.forEach((word, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'sentence-option';
                
                // Add special class for numbers and stationery words
                if (Object.values(numberWords).includes(word.toLowerCase()) || 
                    !isNaN(parseInt(word))) {
                    optionElement.classList.add('number');
                } else if (stationeryItems.some(item => item.name === word.toLowerCase())) {
                    optionElement.classList.add('word');
                }
                
                optionElement.textContent = word;
                optionElement.draggable = true;
                optionElement.dataset.word = word.toLowerCase();
                optionElement.dataset.id = `word-${index}`;
                
                optionElement.addEventListener('dragstart', handleWordDragStart);
                
                sentenceOptions.appendChild(optionElement);
                gameState.game4.wordOptions.push(optionElement);
            });
        }

        // Sentence Drag and Drop Functions
        function handleWordDragStart(event) {
            event.dataTransfer.setData('text/plain', event.target.dataset.word);
            event.dataTransfer.setData('id', event.target.dataset.id);
        }

        function handleSentenceDrop(event) {
            event.preventDefault();
            const word = event.dataTransfer.getData('text/plain');
            const id = event.dataTransfer.getData('id');
            const dropZone = event.target;
            
            // Only allow drop if zone is empty
            if (dropZone.dataset.filled === 'false') {
                const originalElement = document.querySelector(`[data-id="${id}"]`);
                const displayWord = originalElement ? originalElement.textContent : word;
                
                dropZone.textContent = displayWord;
                dropZone.dataset.filled = 'true';
                dropZone.dataset.actual = word;
                dropZone.classList.add('filled');
                
                // Hide the dragged word
                if (originalElement) {
                    originalElement.style.visibility = 'hidden';
                }
            }
        }

        function checkSentence() {
            const allFilled = gameState.game4.dropZones.every(zone => zone.dataset.filled === 'true');
            
            if (!allFilled) {
                sentenceFeedback.className = 'feedback wrong';
                sentenceFeedback.textContent = "Please fill all the blanks before checking!";
                return;
            }
            
            // Check if sentence is correct
            const builtSentence = gameState.game4.dropZones.map(zone => zone.textContent).join(' ');
            const correctSentence = gameState.game4.currentSentence.answer;
            
            if (builtSentence.toLowerCase() === correctSentence.toLowerCase()) {
                // Correct!
                sentenceFeedback.className = 'feedback correct';
                sentenceFeedback.innerHTML = `üéâ Perfect! You built the sentence correctly!`;
                
                speakText(correctSentence);
                
                gameState.score += 40;
                gameState.correctAnswers++;
                gameState.game4.isComplete = true;
                
                // Celebrate
                sentenceTarget.classList.add('celebrate');
                setTimeout(() => sentenceTarget.classList.remove('celebrate'), 1500);
            } else {
                // Incorrect
                sentenceFeedback.className = 'feedback wrong';
                sentenceFeedback.innerHTML = `Not quite right. The correct sentence is: "${correctSentence}"`;
                
                // Speak correct sentence
                setTimeout(() => {
                    speakText(correctSentence);
                }, 1000);
            }
            
            updateScoreboard();
        }

        function giveSentenceHint() {
            // Find first empty drop zone
            const emptyZones = gameState.game4.dropZones.filter(zone => zone.dataset.filled === 'false');
            
            if (emptyZones.length > 0) {
                const zone = emptyZones[0];
                const expectedWord = zone.dataset.expected;
                
                // Find the correct word among options
                const correctWord = gameState.game4.wordOptions.find(
                    word => word.dataset.word === expectedWord && word.style.visibility !== 'hidden'
                );
                
                if (correctWord) {
                    // Highlight the correct word
                    correctWord.style.backgroundColor = '#7ed321';
                    correctWord.style.color = 'white';
                    correctWord.style.boxShadow = '0 4px 0 #5ca315';
                    
                    // Add bounce animation
                    correctWord.classList.add('bounce');
                    
                    // Reset after 2 seconds
                    setTimeout(() => {
                        correctWord.style.backgroundColor = '';
                        correctWord.style.color = '';
                        correctWord.style.boxShadow = '';
                        correctWord.classList.remove('bounce');
                    }, 2000);
                    
                    gameState.score = Math.max(0, gameState.score - 5);
                    updateScoreboard();
                }
            }
        }

        // Common Functions
        function updateScoreboard() {
            scoreValue.textContent = gameState.score;
            correctValue.textContent = gameState.correctAnswers;
            gamesPlayedValue.textContent = gameState.gamesPlayed;
        }

        function speakWord(word) {
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(word);
                utterance.lang = 'en-US';
                utterance.rate = 0.8;
                utterance.pitch = 1.2;
                speechSynthesis.speak(utterance);
            }
        }

        function speakText(text) {
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'en-US';
                utterance.rate = 0.8;
                utterance.pitch = 1.1;
                speechSynthesis.speak(utterance);
            }
        }

        // Initialize the game when page loads
        window.addEventListener('DOMContentLoaded', initGame);
    </script>
</body>
</html>
